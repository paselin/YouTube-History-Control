# YouTube-History-Control

## 概要

YouTubeの再生履歴に動画が保存されるのをコントロールするChrome拡張機能です。再生履歴の保存を一時的に無効にしたり、無効にしている状態でも特定の動画だけを手動で履歴に記録できます。

---

## ✨ 主な機能

- **履歴保存のON/OFF**: 拡張機能のポップアップからワンクリックで、YouTubeの再生履歴の保存を有効化・無効化できます。
- **手動での履歴記録**: 履歴の保存を無効にしている時に、現在視聴している動画だけを特別に履歴へ記録できます。
- **モダンなUI**: ダークモード基調の直感的で使いやすいインターフェース。
- **安定したブロック性能**: Chromeの`declarativeNetRequest` APIを使用し、YouTube側の変更に強く安定して履歴保存リクエストをブロックします。

---

## 🚀 インストール方法

Chromeウェブストア未公開のため、手動インストールが必要です。

1. 本プロジェクトの全ファイル（`manifest.json`, `popup.html`など）をPC上のフォルダにダウンロードします。
2. Google Chromeで`chrome://extensions`にアクセスします。
3. 右上の「デベロッパーモード」をONにします。
4. 「パッケージ化されていない拡張機能を読み込む」をクリックします。
5. ステップ1で作成したフォルダを選択します。
6. 拡張機能が追加されればインストール完了です。ツールバーにアイコンが表示されます。

---

## 使い方

### 履歴保存の切り替え

1. YouTubeを開き、Chromeツールバーの拡張機能アイコンをクリックします。
2. ポップアップのトグルスイッチで履歴保存のON/OFFを切り替えます。
   - **ON（トグル右）**: 履歴は保存されません。
   - **OFF（トグル左）**: 履歴は通常通り保存されます。

### 現在の動画を履歴に記録する

1. 履歴保存が無効（トグル右）の状態でポップアップを開きます。
2. 「この動画を履歴に記録」ボタンをクリックします。
3. ページがリロードされ、現在の動画が履歴に記録されます。記録後は履歴保存が自動で無効状態に戻ります。

---

## ❓ FAQ（よくある質問）

**Q: リロードせずに履歴を追加することは出来ないのか？**

A: 作りがかなり複雑になるうえ、YouTube側の仕様が少し変わるだけで更新が必要になるため、追従性が低くなります。そのため現状はリロード方式を採用しています。

---

## 📁 プロジェクト構成

- `manifest.json` : 拡張機能の基本設定（名称、バージョン、権限など）
- `popup.html` : ポップアップウィンドウのHTML
- `popup.css` : ポップアップのカスタムCSS
- `popup.js` : ポップアップ内の動作制御JS
- `background.js` : バックグラウンドで動作するメインロジック。YouTube通信監視・履歴保存ブロック・手動記録処理
- `tailwind.min.css` : UIスタイリング用Tailwind CSS

---

## 🛠️ 使用技術

- HTML / CSS / JavaScript
- Chrome Extension Manifest V3
- Chrome declarativeNetRequest API
- Tailwind CSS

---

## 📄 ライセンス

このプロジェクトはMITライセンスのもとで公開されています。詳細は`LICENSE`ファイルをご参照ください。